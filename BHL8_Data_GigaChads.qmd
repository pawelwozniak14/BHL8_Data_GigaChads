---
title: "Utrzymanie maszyn w funkcjonowaniu magazynu"
execute:
  echo: false
  warning: false
---

```{r}
library(tidyverse)
library(ggcorrplot)

load("data/model_data.rda")
load("plots/eda_p.rda")
```

## Zrozumienie danych

Wybrane przez nas zadanie analityczne dotyczy predykcji uszkodzenia maszyn magazynowych oraz analiza wrażliwości wybranych modeli.

Opracowywany zbiór danych zawiera następujące zmienne

-   UID - unikalny identyfikator

-   Product_ID - Numer seryjny produktu

-   Type - wariant jakościowy produktu

-   Air_temperature - temperatura powietrza w pokoju

-   Process_temperature - temperatura w której wykonywany jest proces

-   Rotational_speed - częstotliwość obrotowa

-   Torque - moment obrotowy

-   Tool_wear - czas pracy w minutach danego narzędzia

-   Machine_failure - czy wystąpiła usterka

Oraz wyszczególnione powody usterek:

-   TWF - tool wear failure - uszkodzenie narzędzia

-   HDF - heat dissipation failure - szkoda powstała w wyniku rozproszenia ciepłą

-   PWF - power failure - usterk energetyczna

-   OSF - overstrain failure - przeciążenie maszyny

-   RNF - random failures - losowe uszkodzenia

```{r}
grid.arrange(p1,p2,ncol=1)
grid.arrange(p3,p4,ncol=1)
grid.arrange(p5,p6,ncol=1)
```

Z macierzy korelacji widać, że ustreki maszy (co logczine) skorelowane są z poszczególnymi typami problemów funkcjonowania, lecz co ciekawe losowe usterki nie mają żadnego wpływu na pracę maszyn.

Pozostałe silne korelacje również sa intuicyjnie logiczne tj. temperatura powietrza z temperaturą procesu oraz częstotliwość obrotowa z momentem obrotowym.

## Budowa modeli uczenia maszynowego

Ze względu na silne niezrównoważenie klas zaobserwowane w części eksploracyjnej zdecydowaliśmy się na zastosowanie metody upsamplingu w technice SMOTE (Synthetic Minority Oversampling Technique) chcąc uniknąć zjawiska nadmiernego dopasowania przy jednoczesnym zachowaniu jakości predykcji.

Modele uczenia maszynowego zbudowane na cele zadania:

-   Random forest

-   Decision tree

-   Suport vector machine

-   K-Nearest Nighbors

-   Neural network

-   XGBoost

-   Linear regression

